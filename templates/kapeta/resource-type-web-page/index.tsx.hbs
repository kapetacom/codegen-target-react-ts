//#FILENAME:src/browser/pages/{{snakecase data.metadata.name}}/index.tsx:create-only
import React from 'react';
import { createRoot } from 'react-dom/client';
{{#consumes 'kapeta/resource-type-rest-client'}}
import { enableApiMocking } from '../../../mocks/.generated/enableApiMocking';
{{/consumes}}
import { {{type data.metadata.name}}Page } from "./{{type data.metadata.name}}Page";

/*
The main entry point for the {{type data.metadata.name}} page.

Creates a container div and renders the {{type data.metadata.name}}Page component into it. To change the page content,
edit the {{type data.metadata.name}}Page component instead.
This file should only be edited if you need to preload or setup some things before the page is rendered.
{{#consumes 'kapeta/resource-type-rest-client'}}
When running in development mode the API mocking is available.
Call window.enableMockApi(true) in the browser console to enable it.
{{/consumes}}

*/

const container = document.createElement('div');
container.classList.add('application-container');
document.body.append(container);

{{#consumes 'kapeta/resource-type-rest-client'}}
void (async () => {
    if (process.env.NODE_ENV === 'development') {
        await enableApiMocking();
    }
    
    createRoot(container).render(<{{type data.metadata.name}}Page />);
})();
{{else}}
createRoot(container).render(<{{type data.metadata.name}}Page />);
{{/consumes}}